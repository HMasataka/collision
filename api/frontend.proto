syntax = "proto3";

package openmatch;

option go_package = "./gen/pb";

import "messages.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

message CreateTicketRequest {
  SearchFields search_fields = 1;
  bytes extensions = 2;
}

message CreateTicketResponse {
  string id = 1;
  google.protobuf.Timestamp create_time = 2;
}

message DeleteTicketRequest {
  string ticket_id = 1;
}

message GetTicketRequest {
  string ticket_id = 1;
}

message WatchAssignmentsRequest {
  string ticket_id = 1;
}

message WatchAssignmentsResponse {
  Assignment assignment = 1;
}

service FrontendService {
  rpc CreateTicket(CreateTicketRequest) returns (CreateTicketResponse);
  rpc DeleteTicket(DeleteTicketRequest) returns (google.protobuf.Empty);
  rpc GetTicket(GetTicketRequest) returns (Ticket);

  rpc WatchAssignments(WatchAssignmentsRequest) returns (stream WatchAssignmentsResponse);
}
